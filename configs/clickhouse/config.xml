# Event Categories Configuration
# This file defines how raw events are mapped to analytical categories

categories:
  engagement:
    description: "User engagement and interaction events"
    events:
      - page_view
      - button_click
      - scroll
      - hover
      - focus
      - blur
      - resize
      - search
      - filter
      - sort
      - video_play
      - video_pause
      - video_complete
      - audio_play
      - download
      - print
      - bookmark
      - copy
      - select_text

  conversion:
    description: "Events that indicate user conversion"
    events:
      - signup
      - form_submit
      - newsletter_signup
      - trial_start
      - demo_request
      - contact_submit
      - quote_request
      - callback_request
      - whitepaper_download
      - webinar_registration

  revenue:
    description: "Events related to revenue generation"
    events:
      - purchase
      - subscription_start
      - subscription_renew
      - subscription_upgrade
      - subscription_downgrade
      - refund_request
      - payment_method_add
      - billing_update
      - invoice_paid
      - plan_change

  ecommerce:
    description: "E-commerce specific events"
    events:
      - cart_add
      - cart_remove
      - cart_view
      - cart_clear
      - wishlist_add
      - wishlist_remove
      - product_view
      - product_compare
      - checkout_start
      - checkout_complete
      - coupon_apply
      - coupon_remove
      - shipping_select
      - payment_select

  social:
    description: "Social interaction events"
    events:
      - share
      - like
      - unlike
      - comment
      - reply
      - follow
      - unfollow
      - mention
      - tag
      - rate
      - review
      - recommend
      - report
      - block

  authentication:
    description: "User authentication events"
    events:
      - login
      - logout
      - password_reset
      - password_change
      - email_verify
      - phone_verify
      - two_factor_enable
      - two_factor_disable
      - account_lock
      - account_unlock
      - profile_update
      - privacy_update

  technical:
    description: "Technical and system events"
    events:
      - error
      - exception
      - timeout
      - api_call
      - database_query
      - cache_hit
      - cache_miss
      - file_upload
      - file_process
      - batch_process
      - system_alert
      - performance_issue
      - security_event

  navigation:
    description: "Website navigation events"
    events:
      - page_load
      - page_unload
      - navigation_click
      - breadcrumb_click
      - menu_open
      - menu_close
      - tab_switch
      - modal_open
      - modal_close
      - accordion_toggle
      - dropdown_select

  communication:
    description: "Communication and messaging events"
    events:
      - email_send
      - email_open
      - email_click
      - sms_send
      - sms_receive
      - push_notification_send
      - push_notification_click
      - chat_message
      - chat_start
      - chat_end
      - call_start
      - call_end

# Event priority mapping (for processing priority)
priority:
  high:
    - purchase
    - error
    - security_event
    - payment_failed
    - subscription_cancel
  medium:
    - signup
    - login
    - form_submit
    - cart_add
    - checkout_start
  low:
    - page_view
    - button_click
    - scroll
    - hover

# Event sampling rates (for high-volume events)
sampling:
  page_view: 0.1  # Sample 10% of page views
  scroll: 0.05    # Sample 5% of scroll events
  hover: 0.01     # Sample 1% of hover events
  button_click: 1.0  # Sample 100% of clicks
  purchase: 1.0   # Sample 100% of purchases
  error: 1.0      # Sample 100% of errors

# Default category for unmapped events
default_category: "other"

# Event validation rules
validation:
  required_fields:
    - event_id
    - user_id
    - event_type
    - timestamp
  
  optional_fields:
    - session_id
    - ip_address
    - user_agent
    - referrer
    - page_url
    - properties

  field_types:
    event_id: string
    user_id: integer
    event_type: string
    timestamp: datetime
    session_id: string
    ip_address: string
    user_agent: string
    referrer: string
    page_url: string
    properties: object

# Enrichment rules
enrichment:
  derive_fields:
    hour_of_day: "timestamp.hour"
    day_of_week: "timestamp.weekday"
    is_weekend: "timestamp.weekday in [5, 6]"
    event_category: "lookup from categories"
  
  geo_enrichment:
    enabled: true
    ip_field: "ip_address"
    output_fields:
      - country
      - region
      - city
      - timezone
  
  user_agent_parsing:
    enabled: true
    input_field: "user_agent"
    output_fields:
      - browser
      - browser_version
      - os
      - device_type